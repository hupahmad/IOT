(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9461:function(e,t,n){Promise.resolve().then(n.bind(n,724))},724:function(e,t,n){"use strict";let c;n.r(t),n.d(t,{default:function(){return _}});var s=n(7437);n(703);var o=n(345),a=n.n(o),l=n(8792),i=n(2265),r=n(2532);let u={title:"CONNECT",css:a().connect},d={title:"DISCONNECT",css:a().disconnect};async function f(){let e;return await fetch("http://147.135.51.66:1111/buttons",{method:"GET"}).then(async function(t){await t.text().then(t=>{e=JSON.parse(t)})}),e}function _(){let[e,t]=(0,i.useState)(u),[n,o]=(0,i.useState)(""),[_,p]=(0,i.useState)(""),[h,b]=(0,i.useState)(""),[g,x]=(0,i.useState)(""),[m,N]=(0,i.useState)({}),[k,j]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async function(){let e=await f();N(e),j(Object.keys(e)),console.log(e),console.log(k)})()},[]),(0,s.jsxs)("div",{className:a().continer,children:[(0,s.jsxs)("div",{className:a().box,children:[(0,s.jsx)("h1",{className:a().title,children:"Home1"}),(0,s.jsxs)("button",{className:"".concat(a().btn," ").concat(e.css),onClick:function(){e===u?((c=r.Z.connect("ws://147.135.51.66:9001")).on("connect",()=>{t(d),console.log("connected")}),c.on("message",(e,t)=>{console.log(h),b(e=>e+t.toString()+"\n")})):(c.end(),t(u),b(""))},children:[e.title,console.log(e.title)]})]}),(0,s.jsx)("div",{className:a().buttons,children:k.map(e=>(0,s.jsxs)("div",{id:e,className:"m-[20px] inline-flex ",children:[(0,s.jsx)("h3",{children:m[e].panelName}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,s.jsx)("input",{className:"sr-only peer",value:"",type:"checkbox",onChange:e=>{!0==e.target.checked?(console.log("checked"),c.publish("home/1","led on")):(console.log("unchecked"),c.publish("home/1","led off"))}}),(0,s.jsx)("div",{className:"peer rounded-br-2xl rounded-tl-2xl outline-none duration-100 after:duration-500 w-28 h-14 bg-blue-300  peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-500  after:content-['OFF'] after:absolute after:outline-none after:rounded-br-xl after:rounded-tl-xl after:h-12 after:w-12 after:bg-white after:top-1 after:left-1 after:flex  after:justify-center after:items-center  after:text-sky-800 after:font-bold peer-checked:after:translate-x-14 peer-checked:after:content-['ON'] peer-checked:after:border-white"})]})]},e))}),(0,s.jsx)("div",{className:a().divbtn,children:(0,s.jsx)(l.default,{href:"/Add-Button",className:a().link,children:"+"})})]})}},345:function(e){e.exports={box:"page_box__nSTsO",btn:"page_btn__VzVq_",title:"page_title__3jonF",connect:"page_connect__W9zSv",disconnect:"page_disconnect__FlW6i",topic:"page_topic__RNHkZ",input:"page_input___cVLA",message:"page_message__abnJo",link:"page_link__36MaQ",divbtn:"page_divbtn__ASoXp",continer:"page_continer__O6651"}}},function(e){e.O(0,[510,792,703,971,69,744],function(){return e(e.s=9461)}),_N_E=e.O()}]);